/*sys_import "turi.duration"
sys_import "turi.http_client"

with http.post("http://localhost:11434/api/generate",
                 headers={
                     "User-Agent" : "Moozilla"
                 },
                 stream=true,
                 body="""
                 { "prompt" : "Who was Napole Buena Party?",
                         "model" : "llama3.2:3b"
                       }"""

        ) as z {

        mut buffer:str = ""
        mut ch:str|none = ""
        mut brace_counter:num = 0
        println "starting the loop"
        while (ch=z.stream.read_char()) != none {
            buffer += ch;
            if ch == "{" : brace_counter++;
            if ch == "}" {
                brace_counter--;
                if brace_counter == 0 {
                    let result = buffer.execute()
                    buffer = ""
                    print result.response
                }
            }
        }
    }
*/